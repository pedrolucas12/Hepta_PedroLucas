<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<link rel="shortcut icon" href="favicon.ico"/>
	<title>Cadastrar um novo Funcionário </title>
	<link rel="stylesheet" type="text/css"
		href="resources/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css"
		href="resources/css/main.css">
	<link rel="stylesheet" type="text/css"
		  href="../resources/css/style2.css">
</head>

<body>

<a href="/funcionarios/index.html">Voltar</a>

<div id="app">
	
	<h4>Cadastro de funcionário</h4>
		
	<p>Implementar o cadastro de funcionários</p>	
	<p>{{id}}</p>

	
		<div id="inicio" class="container-fluid table" >
		<h4>Lista dos Funcionários - Desafio Hepta</h4>
	  	</div>
	
		<form id="formulario" action="rest/funcionarios/salvar" method="POST" >
		  <label for="nome">Nome:</label>
		  <input type="text" id="nome" name="nome" required>
		  <br>
		  <label for="setor">Setor:</label>
		  <input type="number" id="setor" name="setor" required>
		  <br>
		  <br>
		  <label for="salario">Salário:</label>
		  <input type="number" id="salario" name="salario" required>
		  <br>
		  <label for="email">E-mail:</label>
		  <input type="email" id="email" name="email" required>
		  <br>
		  <label for="idade">Idade:</label>
		  <input type="number" id="idade" name="idade" required>
		  <br>
		  <input type="submit" value="Salvar">
	</form>
	
</div>

	<script src="../resources/js/vue.js"></script>
	<script src="../resources/js/axios.min.js"></script>
	<script src="../resources/js/index.js"></script>
	<script>
		let urlParams = new URLSearchParams(window.location.search);
		let id = urlParams.get('id');
		console.log(id);
		var app = new Vue({
			el: '#app',
			data: {
				id: id,
				funcionario: {}
			},
			mounted() {
				// Busca o funcionário pelo ID
				const vm = this;
				axios.get("funcionarios/rest/funcionarios/salvar/" + id)
				.then(response => {
					vm.funcionario = response.data;
				})
				.catch(function (error) {
					console.log(error);
				});
			}
		});
	</script>
	<script>
    const form = document.querySelector('#formulario');
    form.addEventListener('submit', function(event) {
        event.preventDefault();
        inicio.inserirFuncionario();
    });
</script>
</body>
</html>